<div class="flex flex-col h-screen items-center">
  <h1 class="py-10 font-extrabold text-5xl text-center">
    Apartments Marketplace
  </h1>

  <div class="lg:flex w-full justify-center gap-4">
    <app-add-form-apartment
      class="lg:w-[20%] max-lg:mt-4 max-lg:m-16"
      (formSubmit)="onFormSubmit($event)"
    ></app-add-form-apartment>

    <div class="lg:w-[40%] max-lg:m-16 overflow-auto">
      <div class="flex flex-row items-center justify-center gap-4">
        <h2 class="basis-1/3">
          <b>AVAILABLE APARTMENTS: {{ apartments.length }}</b>
        </h2>

        <div
          class="basis-1/4 flex w-full justify-center items-center mb-4 gap-4"
        >
          <label for="filter" class="font-bold">Filter:</label>
          <select
            id="filter"
            (change)="onFilterChange($event)"
            class="w-[50%] p-2 border-2 rounded-sm mt-2"
          >
            <option value="default">-</option>
            <option value="1">1 room</option>
            <option value="2">2 rooms</option>
            <option value="3">3 rooms</option>
            <option value="4">4 rooms</option>
            <option value="5">5 rooms</option>
          </select>
        </div>

        <div
          class="basis-1/3 flex w-full justify-center items-center mb-4 gap-4"
        >
          <label for="sort" class="font-bold">Sort:</label>
          <select
            id="sort"
            (change)="onSortChange($event)"
            class="w-full p-2 border-2 rounded-sm mt-2"
          >
            <option value="default">-</option>
            <option value="price-asc">Price - lowest to highest</option>
            <option value="price-desc">Price - highest to lowest</option>
          </select>
        </div>
      </div>

      @if (apartments.length === 0) {
      <div class="text-center">No apartments available.</div>
      } @else {
      <ul>
        @for (item of apartments; track $index) {
        <app-apartment
          (delete)="onDelete($event)"
          [item]="item"
        ></app-apartment>
        }
      </ul>
      }
    </div>
  </div>
</div>
